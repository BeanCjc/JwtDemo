三种中间件的写法
1.通过继承自IMiddleware，并实现异步方法InvokeAsync，然后在Startup的ConfigureServices中进行服务注册，通过扩展IApplicationBuilder并在Startup的Configure中添加中间件
2.通过约定进行创建中间件服务，约定就是有一个异步方法InvokeAsync，并指向下一个中间件服务，一样的在Startup的ConfigureServices中进行服务注册，通过扩展IApplicationBuilder并在Startup的Configure中添加中间件
3.直接在Startup的Configure中使用lambda的语法直接书写中间件